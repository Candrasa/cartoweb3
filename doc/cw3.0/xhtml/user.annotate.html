<?xml version="1.0" encoding="ISO-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
    <title>10. Annotation and Redlining</title>
    <link rel="stylesheet" href="default.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.68.1" />
    <link rel="start" href="index.html" title="CartoWeb Documentation" />
    <link rel="up" href="cartoweb.user.html" title="Part II. User Manual" />
    <link rel="prev" href="user.query.html" title="9. Queries" />
    <link rel="next" href="user.output.html" title="11. Export Plugins" />
  </head>
  <body>
    <div id="navtoc">
      <div id="nav">
        <dl>
          <dt>
            <a accesskey="h" href="index.html">CartoWeb Documentation</a>
          </dt>
          <dt>
            <a accesskey="u" href="cartoweb.user.html">User Manual</a>
          </dt>
        </dl>
      </div>
      <div id="toc">
        <p>Table of Contents</p>
        <dl>
          <dt>
            <span class="sect1">
              <a href="user.annotate.html#user.annotate.client">10.1. Client-side Configuration</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="sect2">
                  <a href="user.annotate.html#user.annotate.client.ini">10.1.1. outline.ini</a>
                </span>
              </dt>
            </dl>
          </dd>
          <dt>
            <span class="sect1">
              <a href="user.annotate.html#user.annotate.server">10.2. Server-side Configuration</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="sect2">
                  <a href="user.annotate.html#user.annotate.server.ini">10.2.1. outline.ini</a>
                </span>
              </dt>
            </dl>
          </dd>
          <dt>
            <span class="sect1">
              <a href="user.annotate.html#user.annotate.mapfile">10.3. Related Elements in Mapfile</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="sect2">
                  <a href="user.annotate.html#user.annotate.mapfile.layers">10.3.1. Layers</a>
                </span>
              </dt>
              <dt>
                <span class="sect2">
                  <a href="user.annotate.html#user.annotate.mapfile.label">10.3.2. Labels</a>
                </span>
              </dt>
            </dl>
          </dd>
        </dl>
      </div>
      <div id="w3c">
        <a href="http://validator.w3.org/">
          <img src="image/xhtml.png" width="88" height="31" alt="valid xhtml 1.0" />
        </a>
        <a href="http://jigsaw.w3.org/css-validator/">
          <img src="image/css.png" width="88" height="31" alt="valid css" />
        </a>
      </div>
    </div>
    <div id="title">
      <h2 class="title"><a id="user.annotate"></a>10. Annotation and Redlining</h2>
    </div>
    <div id="content">
      <div class="chapter" lang="en" xml:lang="en">
        <div class="titlepage">
          <div>
            <div></div>
            <div>
              <h3 class="subtitle">
                <i>Plugin Outline</i>
              </h3>
            </div>
          </div>
        </div>
        <p> Imagine you want to draw some features (points, lines, polygons ...) 
    in your map to show specific data and/or print it. The outline plugin is 
    what you need. </p>
        <p> It allows you to draw features and to annotate them with label texts. 
    </p>
        <p> It's also possible to use polygons shapes as a mask layer see "Mask 
    mode". User can choose between mask or draw mode with radio buttons. See 
    <a href="user.annotate.html#user.annotate.server.ini" title="10.2.1. outline.ini">Section 10.2.1, &#8220;outline.ini&#8221;</a> for more information. </p>
        <p> Shapes colors and styles should be set with specific configuration in 
    the mapfile (See <a href="user.annotate.html#user.annotate.mapfile" title="10.3. Related Elements in Mapfile">Section 10.3, &#8220;Related Elements in Mapfile&#8221;</a>). </p>
        <p>The total area of the drawn polygons is displayed on the 
    interface.</p>
        <div class="sect1" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title"><a id="user.annotate.client"></a>10.1. Client-side Configuration</h2>
              </div>
            </div>
          </div>
          <div class="sect2" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="user.annotate.client.ini"></a>10.1.1. outline.ini</h3>
                </div>
              </div>
            </div>
            <p>Here are the options that can be set on the client: </p>
            <div class="itemizedlist">
              <ul>
                <li> 
            multipleShapes<a id="id2550853" class="indexterm"></a>: 
            boolean, if true, the user is allowed to draw multiple shapes. That 
            means that drawn features remain until browser session is closed. 
            If false, will outline only one shape at a time, new feature simply 
            erases / overrides currently drawn one. When he wants, the user can 
            erase all the drawn feature by clicking on the "outline_clear" form 
            button (default true). </li>
                <li> labelMode<a id="id2554467" class="indexterm"></a>: 
            boolean, if true, user is asked to input a label text that is drawn 
            to annotate drawn shape. </li>
                <li> 
            weightOutlinePoint<a id="id2554480" class="indexterm"></a>: 
            integer defining display order of the outline_point tool icon in 
            toolbar (if not specified, default to 70). A negative weight 
            disables the tool. </li>
                <li> 
            weightOutlineLine<a id="id2554493" class="indexterm"></a>: 
            see weightOutlinePoint (default to 71) </li>
                <li> 
            weightOutlineRectangle<a id="id2554505" class="indexterm"></a>: 
            see weightOutlinePoint (default to 72) </li>
                <li> 
            weightOutlinePoly<a id="id2554517" class="indexterm"></a>: 
            see weightOutlinePoint (default to 73) </li>
              </ul>
            </div>
          </div>
        </div>
        <div class="sect1" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title"><a id="user.annotate.server"></a>10.2. Server-side Configuration</h2>
              </div>
            </div>
          </div>
          <div class="sect2" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="user.annotate.server.ini"></a>10.2.1. outline.ini</h3>
                </div>
              </div>
            </div>
            <p>Here are the options that can be set on the server: </p>
            <div class="itemizedlist">
              <ul>
                <li> 
            pointLayer<a id="id2554553" class="indexterm"></a>: 
            defines the name of the mapserver LAYER set in the mapfile to 
            display points. If not set, the polygon layer is automaticaly used 
            instead. </li>
                <li> lineLayer<a id="id2554567" class="indexterm"></a>: 
            defines the name of the mapserver LAYER set in the mapfile to 
            display lines. </li>
                <li> polyLayer<a id="id2571739" class="indexterm"></a>: 
            defines the name of the mapserver LAYER set in the mapfile to 
            display polygons. Note that rectangles are displayed as polygons. 
            </li>
                <li> maskColor<a id="id2571753" class="indexterm"></a>: 
            defines the RGB color of the mask. This color is used to fill the 
            polygons outside's area. Drawn polys will appear as holes in a 
            colored sheet, showing the map under. This parameter is optional 
            and set by default to 255 255 255 (white). </li>
                <li> 
            areaFactor<a id="id2571768" class="indexterm"></a>: 
            defines an optional value for ratio by which the area is multiplied 
            before it is returned to the client. For example, people can use it 
            to convert square meters to square kilometers. </li>
              </ul>
            </div>
          </div>
        </div>
        <div class="sect1" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title"><a id="user.annotate.mapfile"></a>10.3. Related Elements in Mapfile</h2>
              </div>
            </div>
          </div>
          <div class="sect2" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="user.annotate.mapfile.layers"></a>10.3.1. Layers</h3>
                </div>
              </div>
            </div>
            <p>Specific layers must be set in the mapfile in order to draw the 
        shapes:</p>
            <pre class="programlisting">
LAYER
  NAME "cartoweb_point_outline"
  TYPE POINT
  ...
END

LAYER
  NAME "cartoweb_line_outline"
  TYPE LINE
  ...
END

LAYER
  NAME "cartoweb_polygon_outline"
  TYPE POLYGON
  ...
END</pre>
            <p> The point layer is optional as it can be replaced by polygon layer 
        when missing. </p>
            <p> Don't forget that layers names must be set in the client-side 
        outline.ini file (See <a href="user.annotate.html#user.annotate.server.ini" title="10.2.1. outline.ini">Section 10.2.1, &#8220;outline.ini&#8221;</a>) 
        </p>
          </div>
          <div class="sect2" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="user.annotate.mapfile.label"></a>10.3.2. Labels</h3>
                </div>
              </div>
            </div>
            <p>In case of using labels (i.e. labelMode set to true, see <a href="user.annotate.html#user.annotate.client.ini" title="10.1.1. outline.ini">Section 10.1.1, &#8220;outline.ini&#8221;</a>), a LABEL object is needed in the 
        layers' class. </p>
            <p>Example:</p>
            <pre class="programlisting">
LAYER
  NAME "cartoweb_point_outline"
  TYPE POINT
  ...
  CLASS
    STYLE
      ...
    END
    LABEL
      FONT Vera
      TYPE truetype
      COLOR 51 51 51
      SIZE 10
    END
  END
END</pre>
            <p> You will find more examples looking in the test.map 
        file in server_conf directory. </p>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
