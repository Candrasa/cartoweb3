<?xml version="1.0" encoding="ISO-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
    <title>Appendix A. Mapserver Debian Installation</title>
    <link rel="stylesheet" href="default.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.68.1" />
    <link rel="start" href="index.html" title="CartoWeb Documentation" />
    <link rel="up" href="index.html" title="CartoWeb Documentation" />
    <link rel="prev" href="dev.performance.html" title="9. Performance Tests" />
    <link rel="next" href="ix01.html" title="Index" />
  </head>
  <body>
    <div id="navtoc">
      <div id="nav">
        <dl>
          <dt>
            <a accesskey="h" href="index.html">CartoWeb Documentation</a>
          </dt>
        </dl>
      </div>
      <div id="w3c">
        <a href="http://validator.w3.org/">
          <img src="image/xhtml.png" width="88" height="31" alt="valid xhtml 1.0" />
        </a>
        <a href="http://jigsaw.w3.org/css-validator/">
          <img src="image/css.png" width="88" height="31" alt="valid css" />
        </a>
      </div>
    </div>
    <div id="title">
      <h2 class="title"><a id="appendix.debian_mapserver"></a>Appendix A. Mapserver Debian Installation</h2>
    </div>
    <div id="content">
      <div class="appendix" lang="en" xml:lang="en">
        <div class="titlepage"></div>
        <p>Some Debian packages are available for Php5 and Mapserver<sup>[<a id="id2689778" href="#ftn.id2689778">4</a>]</sup>. For now
    only the cgi version of Php is available because of threading issues with 
    Mapserver. 
  </p>
        <div class="sect1" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title"><a id="id2607669"></a>A.1. Prerequisites for Debian Woody</h2>
              </div>
            </div>
          </div>
          <p>
    These packages have some dependencies on packages available in the so-called
    Sarge Debian repository version. Thus, if you are using Debian Woody, you 
    will need to add the following lines to your 
      <code class="filename">/etc/apt/sources.list</code>:
      </p>
          <pre class="screen">#debian sarge
deb http://ftp.&lt;country&gt;.debian.org/debian/ sarge main contrib</pre>
          <p>
    Of course, replace &lt;country&gt; by two-letter country code of your nearest mirror.
    See <a href="http://www.debian.org/mirror/list">http://www.debian.org/mirror/list</a> for the full mirrors list.
  </p>
        </div>
        <div class="sect1" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title"><a id="id2553360"></a>A.2. Setting Up Your Repository and Preferences File</h2>
              </div>
            </div>
          </div>
          <p>
    Add the following to your <code class="filename">/etc/apt/sources.list</code>  :
    </p>
          <pre class="screen"># cartoweb
deb http://dev.camptocamp.com/packages/debian/ sarge main
deb-src http://dev.camptocamp.com/packages/debian/ sarge main</pre>
          <p>
  </p>
          <p>
    You may want to pin c2c packages higher than 1000 to have them preferred over
     the upstream ones, even if downgrading. Add in <code class="filename">/etc/apt/preferences</code>:
     </p>
          <pre class="screen">Package: *
Pin: release o=c2c
Pin-Priority: 1100</pre>
          <p>
  </p>
        </div>
        <div class="sect1" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title"><a id="id2583118"></a>A.3. Installing the packages</h2>
              </div>
            </div>
          </div>
          <p>
    To install Mapscript and PHP 5, type the following:
</p>
          <pre class="screen">
apt-get update
apt-get install  php5-mapscript 
</pre>
          <p>
  </p>
          <p>
    If want to install PostGIS and PostgreSQL:
</p>
          <pre class="screen">
apt-get install  postgis
</pre>
          <p>
  </p>
        </div>
        <div class="sect1" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title"><a id="id2655736"></a>A.4. Additional Steps</h2>
              </div>
            </div>
          </div>
          <p>
    </p>
          <div class="orderedlist">
            <ol>
              <li>Update your <code class="filename">/etc/php5-c2cms-cgi/php.ini</code> to 
          load the <code class="literal">php_mapscript.so</code> extension:
          <pre class="screen">extension=php_mapscript.so</pre>
          </li>
            </ol>
          </div>
          <p>
    </p>
          <div class="orderedlist">
            <ol>
              <li> you may want to raise the memory limit:
          <pre class="screen">memory_limit = 30M</pre>
          </li>
            </ol>
          </div>
          <p>    
  </p>
        </div>
        <div id="footnotes">
          <hr />
          <div class="footnote">
            <p><sup>[<a id="ftn.id2689778" href="#id2689778">4</a>] </sup>Some of the packages were inspired from 
      <a href="http://agrogeomatic.educagri.fr/">http://agrogeomatic.educagri.fr/</a></p>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
