<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>2. Structure</title>
    <link rel="stylesheet" href="document.css" type="text/css" />
    <meta name="generator" content="Tiny DocBook - 1.6.19" />
  </head>
  <body>
    <div id="prev_next">
      <p id="prev">
        <a accesskey="p" href="user.install.html">
       &lt; Installation</a>
      </p>
      <p id="next">
        <a accesskey="n" href="user.project.html">Projects 
    Handling &gt;
     </a>
      </p>
    </div>
    <div id="navtoc">
      <div id="nav">
        <ul>
          <li>
            <a accesskey="h" href="index.html">CartoWeb Documentation</a>
          </li>
          <li>
            <a accesskey="u" href="cartoweb.user.html">User Manual</a>
          </li>
        </ul>
      </div>
      <div id="toc">
        <p>Table of Contents</p>
        <ul>
          <li>
            <span class="sect1">
              <a href="user.structure.html#user.structure.intro">2.1. Introduction</a>
            </span>
          </li>
          <li>
            <span class="sect1">
              <a href="user.structure.html#user.structure.global">2.2. Global Directory Structure</a>
            </span>
          </li>
          <li>
            <span class="sect1">
              <a href="user.structure.html#user.structure.plugin">2.3. Plugins</a>
            </span>
          </li>
          <li>
            <span class="sect1">
              <a href="user.structure.html#user.structure.project">2.4. Projects</a>
            </span>
          </li>
        </ul>
      </div>
    </div>
    <div id="title">
      <h2 class="title"><a id="user.structure"></a>2. Structure</h2>
    </div>
    <div id="content">
      <div class="chapter" lang="en" xml:lang="en">
        <div class="titlepage">
          <div>
            <div></div>
          </div>
        </div>
        <div class="sect1" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title"><a id="user.structure.intro"></a>2.1. Introduction</h2>
              </div>
            </div>
          </div>
          <p> This chapter is an overall tour of the CartoWeb code structure. It 
      briefly explains the role of each directory. When available, links to 
      relevant chapters of this documentation are also provided. </p>
        </div>
        <div class="sect1" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title"><a id="user.structure.global"></a>2.2. Global Directory Structure</h2>
              </div>
            </div>
          </div>
          <p> After installation, CartoWeb has the following directory 
      structure: </p>
          <div class="itemizedlist">
            <ul>
              <li> <code class="filename">client</code>: Client specific code files </li>
              <li> <code class="filename">client_conf</code>: Client configuration files, 
          see <a class="xref" href="user.config.html" title="4. Configuration Files">Chapter 4, <i>Configuration Files</i></a>. </li>
              <li> <code class="filename">common</code>: Common client and server code files 
          </li>
              <li> <code class="filename">coreplugins</code>: Basic mandatory plugins <div class="itemizedlist"><ul><li> <code class="filename">images</code>: Image generation, see <a class="xref" href="user.images.html" title="8.  Image Format Options [coreplugin] (images)">Chapter 8, <i>
    Image Format Options <sub>[coreplugin] (images)</sub>
  </i></a> </li><li> <code class="filename">layers</code>: Layers management, see <a class="xref" href="user.layers.html" title="6. Layers [coreplugin]">Chapter 6, <i>Layers <sub>[coreplugin]</sub></i></a> </li><li> <code class="filename">location</code>: Navigation, see <a class="xref" href="user.location.html" title="7. Navigation [coreplugin] (location)">Chapter 7, <i>Navigation <sub>[coreplugin] (location)</sub></i></a> </li><li> <code class="filename">mapquery</code>: Perform queries based on a 
              set of selected id's, see <a class="xref" href="user.query.html#user.query.server.mapquery" title="9.2.2. MapServer Query Configuration">Section 9.2.2, “MapServer Query Configuration”</a> </li><li> <code class="filename">query</code>: Perform queries on layers, see 
              <a class="xref" href="user.query.html" title="9. Queries [coreplugin] (query)">Chapter 9, <i>Queries <sub>[coreplugin] (query)</sub></i></a> </li><li> <code class="filename">statictools</code>: Distance and surface 
              calculation. </li><li> <code class="filename">tables</code>: Table rules management,
              see <a class="xref" href="user.query.html#user.query.client.tables" title="9.1.2. Tables Configuration">Section 9.1.2, “Tables Configuration”</a> </li></ul></div></li>
              <li> <code class="filename">documentation</code>: documentation <div class="itemizedlist"><ul><li> <code class="filename">apidoc</code>: PHP source code documentation 
              </li><li> <code class="filename">user_manual/source</code>: DocBook XML source 
              of the present documentation </li></ul></div></li>
              <li> <code class="filename">htdocs</code>: Web accessible directory <div class="itemizedlist"><ul><li> <code class="filename">css</code>: css files </li><li> <code class="filename">gfx</code>: icons files </li><li> <code class="filename">js</code>: javascript files </li></ul></div></li>
              <li> <code class="filename">include</code>: libraries used by CartoWeb 
          </li>
              <li> <code class="filename">locale</code>: locale files for 
          internationalization purposes, see <a class="xref" href="user.i18n.html" title="17. Internationalization">Chapter 17, <i>Internationalization</i></a> 
          </li>
              <li> <code class="filename">log</code>: logs, mainly used for development and 
          debug purposes. </li>
              <li> <code class="filename">plugins</code>: Standard, but not mandatory 
          plugins, see <a class="xref" href="user.structure.html#user.structure.plugin" title="2.3. Plugins">Section 2.3, “Plugins”</a> <div class="itemizedlist"><ul><li> <code class="filename">auth</code>: authentication plugin, see 
              <a class="xref" href="user.security.html" title="15. Security Configuration">Chapter 15, <i>Security Configuration</i></a> </li><li> <code class="filename">exportCsv</code>: Csv export plugin, see 
              <a class="xref" href="user.output.html#user.output.csv" title="11.3. CSV Export">Section 11.3, “CSV Export”</a> </li><li> <code class="filename">exportHtml</code>: HTML export plugin, see 
              <a class="xref" href="user.output.html#user.output.html" title="11.2. HTML Export">Section 11.2, “HTML Export”</a> </li><li> <code class="filename">exportPdf</code>: PDF export plugin, see 
              <a class="xref" href="user.pdf.html" title="12. PDF Export [plugin]">Chapter 12, <i>PDF Export <sub>[plugin]</sub></i></a> </li><li> <code class="filename">hello</code>: test plugin </li><li> <code class="filename">hilight</code>: hilight plugin, see <a class="xref" href="user.query.html#user.query.mapfile.hilight" title="9.3.3. Hilight Configuration">Section 9.3.3, “Hilight Configuration”</a> </li><li> <code class="filename">outline</code>: redlining and annotations, 
              see <a class="xref" href="user.annotate.html" title="10. Annotation and Redlining [plugin] (outline)">Chapter 10, <i>Annotation and Redlining <sub>[plugin] (outline)</sub></i></a> </li></ul></div></li>
              <li> <code class="filename">po</code>: PO templates files, used for gettext 
          translation system, see <a class="xref" href="user.i18n.html#user.i18n.translations.template" title="17.1.2. PO Templates">Section 17.1.2, “PO Templates”</a></li>
              <li> <code class="filename">projects</code>: CartoWeb user projects dir, see 
          <a class="xref" href="user.structure.html#user.structure.project" title="2.4. Projects">Section 2.4, “Projects”</a> </li>
              <li> <code class="filename">scripts</code>: maintenance and administration 
          scripts </li>
              <li> <code class="filename">server</code>: CartoWeb server code files </li>
              <li> <code class="filename">server_conf</code>: Cartoweb server-side 
          configuration files, see <a class="xref" href="user.config.html#user.config.server" title="4.3. Server Configuration Files">Section 4.3, “Server Configuration Files”</a> </li>
              <li> <code class="filename">templates</code>: CartoWeb Smarty 
          templates files, see <a class="xref" href="user.template.html" title="18. Templating">Chapter 18, <i>Templating</i></a> </li>
              <li> <code class="filename">templates_c</code>: smarty templates cached files 
          </li>
              <li> <code class="filename">tests</code>: CartoWeb unit tests suite, mainly 
          used for development and debug purposes </li>
              <li> <code class="filename">www-data</code>: writable and web accessible 
          directories for generated files <div class="itemizedlist"><ul><li> <code class="filename">icons</code>: Generated icons </li><li> <code class="filename">images</code>: Mapserver images </li><li> <code class="filename">mapinfo_cache</code>: Client-side server 
              configuration cache, see <a class="xref" href="user.caches.html#user.caches.config" title="5.6. Caches Configuration">Section 5.6, “Caches Configuration”</a> 
              </li><li> <code class="filename">mapresult_cache</code>: Client requests and 
              associated server results cache, see <a class="xref" href="user.caches.html#user.caches.config" title="5.6. Caches Configuration">Section 5.6, “Caches Configuration”</a> </li><li> <code class="filename">pdf</code>: Pdf generated cache files </li><li> <code class="filename">soapxml_cache</code>: Client SOAP XML requests 
              and associated server results cache, see <a class="xref" href="user.caches.html#user.caches.config" title="5.6. Caches Configuration">Section 5.6, “Caches Configuration”</a> </li><li> <code class="filename">wsdl_cache</code>: Client-side WSDL cache, see 
              <a class="xref" href="user.caches.html#user.caches.config" title="5.6. Caches Configuration">Section 5.6, “Caches Configuration”</a> </li></ul></div></li>
            </ul>
          </div>
        </div>
        <div class="sect1" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title"><a id="user.structure.plugin"></a>2.3. Plugins</h2>
              </div>
            </div>
          </div>
          <p> Modularity is a key feature of CartoWeb. Its functionalities are 
      packaged in logical sets called plugins, that aim to be independent from 
      each other, although some dependencies cannot be totally avoided. Some 
      plugins (core plugins) cannot be disabled, while the other ones must be 
      explicitly loaded in the server and/or client configuration files. </p>
          <p> Nearly all plugins have configuration options set in .ini files. The 
      full description of these options makes the bulk of this user manual. 
      </p>
          <p> Modifying existing plugins or writing new ones requires some 
      acquaintance with PHP5, as it involves some coding. The related 
      documentation is thus reported to the developer's part of this manual 
      (see <a class="xref" href="dev.newplugin.html#dev.newplugin.intro" title="2.1.  What are Plugins">Section 2.1, “ 
    What are 
    Plugins”</a>), but that shouldn't deter 
      anybody from experimenting with it. </p>
          <p> Each plugin directory contains one or more subdirectories. Here are 
      all the possible subdirectories: </p>
          <div class="itemizedlist">
            <ul>
              <li> <code class="filename">client</code>: Client-side plugin code </li>
              <li> <code class="filename">common</code>: Client and server code </li>
              <li> <code class="filename">htdocs</code>: Web accessible directory </li>
              <li> <code class="filename">server</code>: Server-side plugin code </li>
              <li> <code class="filename">templates</code>: Smarty templates </li>
            </ul>
          </div>
        </div>
        <div class="sect1" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title"><a id="user.structure.project"></a>2.4. Projects</h2>
              </div>
            </div>
          </div>
          <p> The aim of projects in CartoWeb is to clearly separate mainstream 
      files from project-specific files. Developers should thus only work in 
      projects, and not modify/add/delete files in the root directory. This 
      will ensure smooth updates. </p>
          <p> The directory <code class="filename">/projects/my_project</code> has exactly 
      the same structure as the root directory shown above: <a class="xref" href="user.structure.html#user.structure.global" title="2.2. Global Directory Structure">Section 2.2, “Global Directory Structure”</a> </p>
          <p> Files added in directory <code class="filename">/projects</code> override 
      corresponding files of the root directory. For instance, if you want to 
      change the layers template (i.e. basically the representation of the 
      layers hierarchy), simply copy the default 
      <code class="filename">/coreplugins/layers/templates/layer.tpl</code> to 
      <code class="filename">projects/my_project/coreplugins/layers/templates/layer.tpl</code> 
      and make your changes there. </p>
          <p> For more information about projects, see <a class="xref" href="user.project.html" title="3. Projects Handling">Chapter 3, <i>Projects 
    Handling</i></a>. </p>
        </div>
      </div>
      <div id="w3c">
        <a href="http://validator.w3.org/check/referer">
          <img src="image/xhtml.png" width="88" height="31" alt="valid xhtml 1.0" />
        </a>
        <a href="http://jigsaw.w3.org/css-validator/">
          <img src="image/css.png" width="88" height="31" alt="valid css" />
        </a>
      </div>
    </div>
  </body>
</html>
